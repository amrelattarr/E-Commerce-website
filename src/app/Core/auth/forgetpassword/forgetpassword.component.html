<section class="flex flex-col items-center justify-center bg-gradient-to-b from-gray-50 via-white to-gray-100 py-20 px-6">
  <h2 class="flex items-center justify-center text-3xl font-bold text-gray-800 mb-8">
    <i class="fas fa-lock text-[#0aad0a] mr-3"></i>
    Reset Password
  </h2>      

  <div class="w-full max-w-2xl bg-white rounded-2xl shadow-lg p-8 space-y-10">
    <!-- Stepper -->
    <ol
      class="flex flex-col sm:flex-row items-center justify-between w-full p-4 space-y-6 sm:space-y-0 sm:space-x-6 text-gray-500 border border-gray-200 rounded-lg shadow-sm bg-gray-50"
    >
      <!-- Step 1 -->
      <li [class.text-[#0aad0a]]="step === 1" class="flex flex-col items-center text-center">
        <span
          class="flex items-center justify-center w-8 h-8 text-sm border rounded-full shrink-0"
          [ngClass]="step >= 1 ? 'bg-[#0aad0a] text-white border-[#0aad0a]' : 'border-gray-400'">
          1
        </span>
        <span class="mt-2 text-xs sm:text-sm">Verify Email</span>
      </li>

      <!-- Divider -->
      <svg class="hidden sm:block w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m7 9 4-4-4-4M1 9l4-4-4-4" />
      </svg>

      <!-- Step 2 -->
      <li [class.text-[#0aad0a]]="step === 2" class="flex flex-col items-center text-center">
        <span
          class="flex items-center justify-center w-8 h-8 text-sm border rounded-full shrink-0"
          [ngClass]="step >= 2 ? 'bg-[#0aad0a] text-white border-[#0aad0a]' : 'border-gray-400'">
          2
        </span>
        <span class="mt-2 text-xs sm:text-sm">Verification Code</span>
      </li>

      <!-- Divider -->
      <svg class="hidden sm:block w-5 h-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 12 10">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m7 9 4-4-4-4M1 9l4-4-4-4" />
      </svg>

      <!-- Step 3 -->
      <li [class.text-[#0aad0a]]="step === 3" class="flex flex-col items-center text-center">
        <span
          class="flex items-center justify-center w-8 h-8 text-sm border rounded-full shrink-0"
          [ngClass]="step >= 3 ? 'bg-[#0aad0a] text-white border-[#0aad0a]' : 'border-gray-400'">
          3
        </span>
        <span class="mt-2 text-xs sm:text-sm">Reset Password</span>
      </li>
    </ol>

    <!-- Step 1 -->
    @if (step === 1) {
      <form [formGroup]="verifyEmail" (submit)="onSubmitEmail()" class="space-y-6">
        <app-input
          [control]="verifyEmail.get('email')"
          [typeInput]="'email'"
          [labelInput]="'Verify Email'"
          [idInput]="'email'">
        </app-input>

        <div class="flex justify-end">
          <button type="submit"
            class="bg-[#0aad0a] hover:bg-[#099309] text-white font-semibold py-3 px-6 rounded-xl shadow-md transition duration-300 cursor-pointer">
            Verify Email
          </button>
        </div>
      </form>
    }

    <!-- Step 2 -->
    @else if (step === 2) {
      <form [formGroup]="verifyCode" (submit)="onSubmitCode()" class="space-y-6">
        <app-input
          [control]="verifyCode.get('resetCode')"
          [typeInput]="'text'"
          [labelInput]="'Verification Code'"
          [idInput]="'resetCode'">
        </app-input>

        <div class="flex justify-between">
          <button type="button"
            (click)="step = 1"
            class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-xl shadow-sm transition duration-300 cursor-pointer">
            ← Back
          </button>

          <button type="submit"
            class="bg-[#0aad0a] hover:bg-[#099309] text-white font-semibold py-3 px-6 rounded-xl shadow-md transition duration-300 cursor-pointer">
            Verify Code
          </button>
        </div>
      </form>
    }

    <!-- Step 3 -->
    @else if (step === 3) {
      <form [formGroup]="resetPassword" (submit)="onSubmitNewPassword()" class="space-y-6">
        <app-input
          [control]="resetPassword.get('email')"
          [typeInput]="'email'"
          [labelInput]="'Email'"
          [idInput]="'email'">
        </app-input>

        <app-input
          [control]="resetPassword.get('newPassword')"
          [idInput]="'password'"
          [labelInput]="'Password'">
          Password must contain at least one uppercase letter, one lowercase letter,
          one digit, and one special character.
        </app-input>

        <div class="flex justify-between">
          <button type="button"
            (click)="step = 2"
            class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-3 px-6 rounded-xl shadow-sm transition duration-300 cursor-pointer">
            ← Back
          </button>

          <button type="submit"
            class="bg-[#0aad0a] hover:bg-[#099309] text-white font-semibold py-3 px-6 rounded-xl shadow-md transition duration-300 cursor-pointer">
            Update Password
          </button>
        </div>
      </form>
    }
  </div>
</section>
